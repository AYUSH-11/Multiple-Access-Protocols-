<!DOCTYPE html>
<html>
<head>
	<title>Token Passing Protocol</title>
	<style type="text/css">
		.column {
  	float: left;
  	width: 16%;
  	padding: 2px;
	}

	.row::after {
  		content: "";
  		clear: both;
  		display: inline-block;
  }

  #animate1 {
    width: 50px;
    height: 10px;
    position: absolute;
    background-color: blue;
    padding: 5px;
	}

  </style>

	<script type="text/javascript">
		var delay = 500, bndw = 40;
		function drawLine(startx, starty, endx, endy, color)
		{
			var doc_id = document.getElementById("verticle"); 
        	var context = doc_id.getContext("2d"); 
        	context.beginPath(); 
        	context.moveTo(startx, starty);
          	context.lineWidth = 5;
          	//context.setLineDash([5, 0]);
        	context.strokeStyle = color; 
        	context.lineTo(endx,endy); 
        	context.stroke();
		}
		function drawThickLine(startx, starty, endx, endy, color)
		{
			var doc_id = document.getElementById("verticle"); 
        	var context = doc_id.getContext("2d"); 
        	context.beginPath(); 
        	context.moveTo(startx, starty);
          	context.lineWidth = 8;
          	//context.setLineDash([5, 0]);
        	context.strokeStyle = color; 
        	context.lineTo(endx,endy); 
        	context.stroke();
		}
		function drawThinLine(startx, starty, endx, endy, color)
		{
			var doc_id = document.getElementById("verticle"); 
        	var context = doc_id.getContext("2d"); 
        	context.beginPath(); 
        	context.moveTo(startx, starty);
          	context.lineWidth = 3;
          	context.setLineDash([5, 0]);
        	context.strokeStyle = color; 
        	context.lineTo(endx,endy); 
        	context.stroke();
		}
		function drawDashLine(startx, starty, endx, endy, color)
		{
			var doc_id = document.getElementById("verticle"); 
        	var context = doc_id.getContext("2d"); 
        	context.beginPath(); 
        	context.moveTo(startx, starty);
          	context.lineWidth = 2;
          	context.setLineDash([5, 5]);
        	context.strokeStyle = color; 
        	context.lineTo(endx,endy); 
        	context.stroke();
		}
		function drawLine4Star(color)
		{
			drawLine(250,100,400,100,color);
  			drawLine(400,100,400,225,color);
  			drawLine(200,150,200,250,color);
  			drawLine(200,250,400,250,color);

  			drawLine(500,100,650,100,color);
  			drawLine(500,100,500,225,color);
  			drawLine(700,150,700,250,color);
  			drawLine(700,250,500,250,color);

  			drawLine(250,450,400,450,color);
  			drawLine(400,450,400,325,color);
  			drawLine(200,400,200,300,color);
  			drawLine(200,300,400,300,color);

  			drawLine(500,450,650,450,color);
  			drawLine(500,450,500,325,color);
  			drawLine(700,400,700,300,color);
  			drawLine(700,300,500,300,color);
		}

		function drawColorText(x, y,txt,color)
		{
			var elm_id = document.getElementById("verticle"); 
        	var ctxx = elm_id.getContext("2d");
			ctxx.moveTo(x, y); 
          	ctxx.fillStyle = color;
          	ctxx.font = "30px Georgia";
          	ctxx.fillText(txt,x,y);
		}
		function drawtokenBox(rectX,rectY,rectWidth,rectHeight)
		{
			var doc_id = document.getElementById("verticle"); 
        	var ctx = doc_id.getContext("2d"); 
        	ctx.beginPath(); 
        	ctx.moveTo(rectX, rectY); 
        	ctx.strokeStyle = "yellow";
			ctx.rect(rectX,rectY,rectWidth,rectHeight);
			ctx.stroke();
          	ctx.font = "15px Georgia";
          	ctx.fillText("TO+SA",parseInt(rectX-20 +(parseInt(rectWidth-7)/2)), parseInt(rectY+(parseInt(rectHeight+10)/2)));
		}
		function clearTokenBox(rectX,rectY,rectWidth,rectHeight)
		{
			var doc_id = document.getElementById("verticle"); 
        	var ctx = doc_id.getContext("2d"); 
        	ctx.beginPath(); 
        	ctx.moveTo(rectX, rectY); 
			ctx.clearRect(rectX-3,rectY-3,rectWidth+7,rectHeight+7);
		}

		function secHoriz(startx, starty, endx, endy, text, dir)
		{
			var doc_id = document.getElementById("verticle"); 
        	var context = doc_id.getContext("2d"); 
        	context.beginPath(); 
        	context.moveTo(startx, starty); 
          context.lineWidth = 5;
        	context.strokeStyle = 'darkgreen'; 
        	context.lineTo(endx,endy); 
        	context.stroke();

			//context.font = "15px Arial";
			//context.fillText(text+dir, startx+200, starty-15);
		}

		function startProcess()
		{
			var chk1 = document.getElementById("s1");
			var chk2 = document.getElementById("s2");
			var chk3 = document.getElementById("s3");
      		var chk4 = document.getElementById("s4");

      		var dl1 = parseInt(document.getElementById("dataL1").value);
      		var dl2 = parseInt(document.getElementById("dataL2").value);
      		var dl3 = parseInt(document.getElementById("dataL3").value);
      		var dl4 = parseInt(document.getElementById("dataL4").value);

			delay=500;

			if(chk1.checked == true)
			{ 
				var doc_id = document.getElementById("verticle"); 
    			var ctx = doc_id.getContext("2d");
    			ctx.clearRect(0,0,1000,550);
    			var img = document.getElementById("d1");
  				ctx.drawImage(img, 250, 100, 100, 100);
  				ctx.drawImage(img, 650, 100, 100, 100);
  				ctx.drawImage(img, 250, 350, 100, 100);
  				ctx.drawImage(img, 650, 350, 100, 100);

  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");

  				drawColorText(350,220,"1","red");
  				drawColorText(620,220,"2","green");
  				drawColorText(350,350,"4","blue");
  				drawColorText(620,350,"3","brown");
  				drawColorText(0,25,"Channel color change represents node can access it.","brown");

  				var dl1 = parseInt(document.getElementById("dataL1").value);
  				var dl2 = parseInt(document.getElementById("dataL2").value);
  				var dl3 = parseInt(document.getElementById("dataL3").value);
  				var dl4 = parseInt(document.getElementById("dataL4").value);

  				//console.log(dl1,",",dl2,",",dl3,",",dl4);

  				myMoveX(179,50,60,30,180,180,"TOKEN");

  				delay = 500;
  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"red");
  				drawLine(300,200,300,350,"red");
  				drawLine(350,400,650,400,"red");
  				drawLine(700,200,700,350,"red");},delay);
				delay+= (parseInt(dl1/bndw)*1000);
				//console.log("Y: "+pos);

  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveX(180,50,60,30,770,770,"TOKEN"); },delay);
  				delay+=6000;

  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"green");
  				drawLine(300,200,300,350,"green");
  				drawLine(350,400,650,400,"green");
  				drawLine(700,200,700,350,"green");},delay);
				delay+=(parseInt(dl2/bndw)*1000);

				setTimeout(function(){ 
  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveY(760,50,60,30,460,460,"TOKEN"); },delay);
  				delay+=4300;
  				
  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"brown");
  				drawLine(300,200,300,350,"brown");
  				drawLine(350,400,650,400,"brown");
  				drawLine(700,200,700,350,"brown");},delay);
				delay+=(parseInt(dl3/bndw)*1000);

				setTimeout(function(){ 
  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveRevX(180,470,60,30,770,770,"TOKEN"); },delay);
  				delay+=6000;
  				
  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"blue");
  				drawLine(300,200,300,350,"blue");
  				drawLine(350,400,650,400,"blue");
  				drawLine(700,200,700,350,"blue");},delay);
				delay+=(parseInt(dl4/bndw)*1000);				

				setTimeout(function(){ 
  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");},delay);
				delay+=500;

				setTimeout(function(){ myMoveRevY(180,40,60,30,460,460,"TOKEN"); },delay);

			}

			if(chk2.checked == true)
			{
				var doc_id = document.getElementById("verticle"); 
    			var ctx = doc_id.getContext("2d");
    			ctx.clearRect(0,0,1000,550);
    			var img = document.getElementById("d1");
  				ctx.drawImage(img, 250, 100, 100, 100);
  				ctx.drawImage(img, 650, 100, 100, 100);
  				ctx.drawImage(img, 250, 350, 100, 100);
  				ctx.drawImage(img, 650, 350, 100, 100);

  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");

  				drawLine(350,120,650,120,"black");
  				drawLine(270,200,270,350,"black");
  				drawLine(350,430,650,430,"black");
  				drawLine(730,200,730,350,"black");

  				drawColorText(350,220,"1","red");
  				drawColorText(620,220,"2","green");
  				drawColorText(350,350,"4","blue");
  				drawColorText(620,350,"3","brown");
  				drawColorText(0,25,"Inner ring: Primary;Outer ring: Secondary. White channel is failed","brown");

  				var dl1 = parseInt(document.getElementById("dataL1").value);
  				var dl2 = parseInt(document.getElementById("dataL2").value);
  				var dl3 = parseInt(document.getElementById("dataL3").value);
  				var dl4 = parseInt(document.getElementById("dataL4").value);

  				//console.log(dl1,",",dl2,",",dl3,",",dl4);

  				myMoveX(179,50,60,30,180,180,"TOKEN");

  				delay = 500;
  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"red");
  				drawLine(300,200,300,350,"red");
  				drawLine(350,400,650,400,"red");
  				drawLine(700,200,700,350,"red");},delay);
				delay+= (parseInt(dl1/bndw)*1000);
				//console.log("Y: "+pos);

  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveX(180,50,60,30,770,770,"TOKEN"); },delay);
  				delay+=6000;

  				setTimeout(function(){ 
  				drawLine(350,150,650,150,"black");
  				drawLine(300,200,300,350,"black");
  				drawLine(350,400,650,400,"black");
  				drawLine(700,200,700,350,"white");},delay);
				//delay+=(parseInt(dl2/bndw)*1000);

				delay+=100;

				setTimeout(function(){ myMoveRevX(180,50,60,30,740,740,"TOKEN"); },delay);
  				delay+=6000;

  				setTimeout(function(){ myMoveY(180,40,60,30,460,460,"TOKEN"); },delay);
  				delay+=4300;

  				setTimeout(function(){ 
  				drawLine(350,120,650,120,"blue");
  				drawLine(270,200,270,350,"blue");
  				drawLine(350,430,650,430,"blue");
  				drawLine(730,200,730,350,"blue");},delay);
				delay+=(parseInt(dl4/bndw)*1000);

				setTimeout(function(){ 
  				drawLine(350,120,650,120,"black");
  				drawLine(270,200,270,350,"black");
  				drawLine(350,430,650,430,"black");
  				drawLine(730,200,730,350,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveX(180,470,60,30,770,770,"TOKEN"); },delay);
  				delay+=6000;
  				
  				setTimeout(function(){ 
  				drawLine(350,120,650,120,"brown");
  				drawLine(270,200,270,350,"brown");
  				drawLine(350,430,650,430,"brown");
  				drawLine(730,200,730,350,"brown");},delay);
				delay+=(parseInt(dl3/bndw)*1000);				

				setTimeout(function(){ 
  				drawLine(350,120,650,120,"black");
  				drawLine(270,200,270,350,"black");
  				drawLine(350,430,650,430,"black");
  				drawLine(730,200,730,350,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveRevY(760,50,60,30,460,460,"TOKEN"); },delay);
				delay+=4300;

  				setTimeout(function(){ 
  				drawLine(350,120,650,120,"green");
  				drawLine(270,200,270,350,"green");
  				drawLine(350,430,650,430,"green");
  				drawLine(730,200,730,350,"green");},delay);
				delay+=(parseInt(dl2/bndw)*1000);

				setTimeout(function(){ 
  				drawLine(350,120,650,120,"black");
  				drawLine(270,200,270,350,"black");
  				drawLine(350,430,650,430,"black");
  				drawLine(730,200,730,350,"black");},delay);
				//delay+=100;
			}

			if(chk3.checked == true)
			{
				var doc_id = document.getElementById("verticle"); 
    			var ctx = doc_id.getContext("2d");
    			ctx.clearRect(0,0,1000,550);
    			var img = document.getElementById("d1");
  				ctx.drawImage(img, 250, 100, 100, 100);
  				ctx.drawImage(img, 650, 100, 100, 100);
  				ctx.drawImage(img, 250, 350, 100, 100);
  				ctx.drawImage(img, 650, 350, 100, 100);

  				drawThickLine(230,275,750,275,"black");

  				//drawThinLine(350,150,650,150,"black");
  				drawThinLine(300,200,300,350,"black");
  				//drawThinLine(350,400,650,400,"black");
  				drawThinLine(700,200,700,350,"black");

  				drawDashLine(350,120,650,120,"black");
  				drawDashLine(270,200,270,350,"black");
  				drawDashLine(350,430,650,430,"black");
  				drawDashLine(730,200,730,350,"black");

  				drawColorText(350,220,"1","red");
  				drawColorText(620,220,"2","green");
  				drawColorText(350,350,"4","blue");
  				drawColorText(620,350,"3","brown");
  				drawColorText(0,25,"TO+SA = Token + Successor Address");

  				var dl1 = parseInt(document.getElementById("dataL1").value);
  				var dl2 = parseInt(document.getElementById("dataL2").value);
  				var dl3 = parseInt(document.getElementById("dataL3").value);
  				var dl4 = parseInt(document.getElementById("dataL4").value);

  				//console.log(dl1,",",dl2,",",dl3,",",dl4);

  				myMoveX(179,50,60,30,180,180,"TO+SA");

  				delay = 500;
  				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"red");
  				drawThinLine(700,200,700,350,"red");
  				drawThickLine(230,275,750,275,"red");},delay);
				delay+= (parseInt(dl1/bndw)*1000);
				//console.log("Y: "+pos);

  				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"black");
  				drawThinLine(700,200,700,350,"black");
  				drawThickLine(230,275,750,275,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveX(180,50,60,30,770,770,"TO+SA"); },delay);
  				delay+=6000;

  				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"green");
  				drawThinLine(700,200,700,350,"green");
  				drawThickLine(230,275,750,275,"green");},delay);
				delay+=(parseInt(dl2/bndw)*1000);

				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"black");
  				drawThinLine(700,200,700,350,"black");
  				drawThickLine(230,275,750,275,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveY(760,50,60,30,460,460,"TO+SA"); },delay);
  				delay+=4300;
  				
  				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"brown");
  				drawThinLine(700,200,700,350,"brown");
  				drawThickLine(230,275,750,275,"brown");},delay);
				delay+=(parseInt(dl3/bndw)*1000);

				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"black");
  				drawThinLine(700,200,700,350,"black");
  				drawThickLine(230,275,750,275,"black");},delay);
				delay+=100;

				setTimeout(function(){ myMoveRevX(180,470,60,30,770,770,"TO+SA"); },delay);
  				delay+=6000;
  				
  				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"blue");
  				drawThinLine(700,200,700,350,"blue");
  				drawThickLine(230,275,750,275,"blue");},delay);
				delay+=(parseInt(dl4/bndw)*1000);				

				setTimeout(function(){ 
  				drawThinLine(300,200,300,350,"black");
  				drawThinLine(700,200,700,350,"black");
  				drawThickLine(230,275,750,275,"black");},delay);
				delay+=500;
				setTimeout(function(){ myMoveRevY(180,40,60,30,460,460,"TO+SA"); },delay);

  				
			}

      		if(chk4.checked == true)
      		{
				var doc_id = document.getElementById("verticle"); 
    			var ctx = doc_id.getContext("2d");
    			ctx.clearRect(0,0,1000,550);
    			var img = document.getElementById("d1");
    			var imghub = document.getElementById("hub");
  				ctx.drawImage(img, 150, 50, 100, 100);
  				ctx.drawImage(img, 650, 50, 100, 100);
  				ctx.drawImage(img, 150, 400, 100, 100);
  				ctx.drawImage(img, 650, 400, 100, 100);
  				ctx.drawImage(imghub, 400, 225, 100, 100);

  				drawColorText(250,180,"1","red");
  				drawColorText(620,180,"2","green");
  				drawColorText(250,400,"4","blue");
  				drawColorText(620,400,"3","brown");
  				drawColorText(0,25,"TO+SA = Token + Successor Address.It pass through HUB.");

  				drawLine4Star("black");

  				var dl1 = parseInt(document.getElementById("dataL1").value);
  				var dl2 = parseInt(document.getElementById("dataL2").value);
  				var dl3 = parseInt(document.getElementById("dataL3").value);
  				var dl4 = parseInt(document.getElementById("dataL4").value);

  				
  				drawtokenBox(260,60,60,30);
  				delay=100;
  				setTimeout(function(){ drawLine4Star("red"); },delay);
  				delay+=(parseInt(dl1/bndw)*1000);
  				setTimeout(function(){ drawLine4Star("black");
  				clearTokenBox(260,60,60,30); },delay);
  				delay+=1500;

  				setTimeout(function(){ drawtokenBox(580,60,60,30); },delay);
  				delay+=100;
  				setTimeout(function(){ drawLine4Star("green"); },delay);
  				delay+=(parseInt(dl2/bndw)*1000);
  				setTimeout(function(){ drawLine4Star("black");
  				clearTokenBox(580,60,60,30); },delay);
  				delay+=1500;

  				setTimeout(function(){ drawtokenBox(580,410,60,30); },delay);
  				delay+=100;
  				setTimeout(function(){ drawLine4Star("brown"); },delay);
  				delay+=(parseInt(dl3/bndw)*1000);
  				setTimeout(function(){ drawLine4Star("black");
  				clearTokenBox(580,410,60,30); },delay);
  				delay+=1500;

  				setTimeout(function(){ drawtokenBox(260,410,60,30); },delay);
  				delay+=100;
  				setTimeout(function(){ drawLine4Star("blue"); },delay);
  				delay+=(parseInt(dl4/bndw)*1000);
  				setTimeout(function(){ drawLine4Star("black");
  				clearTokenBox(260,410,60,30); },delay);

      		}

		}

    function myMoveX(rectX,rectY,rectWidth,rectHeight,end,clearWidth,txt) {

      //var elem = document.getElementById("animate1"); 
      var doc_id = document.getElementById("verticle"); 
      var ctx = doc_id.getContext("2d"); 
      var count = 0; 
      //context.clearRect(10, 10, 30, 20);
      var pos = parseInt(rectX);
      var pos1=parseInt(rectY);
      var id = setInterval(frame, 100);
      function frame() {
        if (pos >= parseInt(end) ) {
          clearInterval(id);
        } else {

       // console.log("buffer: "+count*200);
          ctx.clearRect(rectX-3, rectY-3, clearWidth ,rectHeight+7); 
          ctx.beginPath();
          ctx.lineWidth = 3;
          ctx.moveTo(pos, rectY); 
          ctx.strokeStyle = "yellow";
          ctx.setLineDash([5, 0]);
          ctx.rect(pos, rectY, rectWidth, rectHeight);
          ctx.stroke();
          ctx.font = "15px Georgia";
          ctx.fillText(txt,parseInt(pos-20 +(parseInt(rectWidth-7)/2)), parseInt(rectY+(parseInt(rectHeight+10)/2)));
          //console.log("count: "+count);
          pos+=10;
          count+=1;
          //elem.style.top = pos1 + "px";
          //elem.style.top = 0 + "px";
          //elem.style.left =pos + "px";
        }
        //context.clearRect(num+2, pos1, pos+20, pos1);
        
      }
    }

    function myMoveRevX(rectX,rectY,rectWidth,rectHeight,end,clearWidth,txt) {

      //var elem = document.getElementById("animate1"); 
      var doc_id = document.getElementById("verticle"); 
      var ctx = doc_id.getContext("2d"); 
      var count = 0; 
      //context.clearRect(10, 10, 30, 20);
      var pos = parseInt(end);
      var pos1=parseInt(rectY);
      var id = setInterval(frame, 100);
      function frame() {
        if (pos < parseInt(rectX) ) {
          clearInterval(id);
        } else {
		  ctx.clearRect(rectX-3, rectY-3, clearWidth ,rectHeight+7); 
          ctx.beginPath();
          ctx.lineWidth = 3;
          ctx.moveTo(pos, rectY); 
          ctx.strokeStyle = "yellow";
          ctx.rect(pos, rectY, rectWidth, rectHeight);
          ctx.stroke();
          ctx.font = "15px Georgia";
          ctx.fillText(txt,parseInt(pos-20 +(parseInt(rectWidth-7)/2)), parseInt(rectY+(parseInt(rectHeight+10)/2)));
          //console.log("count: "+count);
          pos-=10;
          count+=1;
        }
        //context.clearRect(num+2, pos1, pos+20, pos1);
        
      }
    }

    function myMoveY(rectX,rectY,rectWidth,rectHeight,end,clearWidth,txt) {

      //var elem = document.getElementById("animate1"); 
      var doc_id = document.getElementById("verticle"); 
      var ctx = doc_id.getContext("2d"); 
      var count = 0; 
      //context.clearRect(10, 10, 30, 20);
      var pos = parseInt(rectY);
      //var pos1=parseInt(rectY);
      var id = setInterval(frame, 100);
      function frame() {
        if (pos > parseInt(end) ) {
        	console.log("SUSSPEND!!");
          clearInterval(id);
        } else {
        	pos+=10;
        //console.log("Y: "+pos);
          ctx.clearRect(rectX-3, rectY-3, rectWidth+10, clearWidth+10); 
          ctx.beginPath();
          ctx.lineWidth = 3; 
          ctx.strokeStyle = "yellow";
          ctx.rect(rectX, pos, rectWidth, rectHeight);
          ctx.stroke();
          ctx.font = "15px Georgia";
          ctx.fillText(txt,parseInt(rectX-20 +(parseInt(rectWidth-7)/2)), parseInt(pos+(parseInt(rectHeight+10)/2)));
          //console.log("count: "+count);
          count+=1;
          //elem.style.top = pos1 + "px";
          //elem.style.top = 0 + "px";
          //elem.style.left =pos + "px";
        }
        //context.clearRect(num+2, pos1, pos+20, pos1);
        
      }
    }

    function myMoveRevY(rectX,rectY,rectWidth,rectHeight,end,clearWidth,txt) {

      //var elem = document.getElementById("animate1"); 
      var doc_id = document.getElementById("verticle"); 
      var ctx = doc_id.getContext("2d"); 
      var count = 0; 
      //context.clearRect(10, 10, 30, 20);
      var pos = parseInt(end);
      //var pos1=parseInt(rectY);
      var id = setInterval(frame, 100);
      function frame() {
        if (pos < parseInt(rectY) ) {
        	console.log("SUSSPEND!!");
          clearInterval(id);
        } else {
         // console.log("Y: "+pos);
          ctx.clearRect(rectX-3, rectY-3, rectWidth+7, clearWidth+7); 
          ctx.beginPath();
          ctx.lineWidth = 3; 
          ctx.strokeStyle = "yellow";
          ctx.rect(rectX, pos, rectWidth, rectHeight);
          ctx.stroke();
          ctx.font = "15px Georgia";
          ctx.fillText(txt,parseInt(rectX-20 +(parseInt(rectWidth-7)/2)), parseInt(pos+(parseInt(rectHeight+10)/2)));
          //console.log("count: "+count);
          pos-=10;
          count+=1;
          //elem.style.top = pos1 + "px";
          //elem.style.top = 0 + "px";
          //elem.style.left =pos + "px";
        }
        //context.clearRect(num+2, pos1, pos+20, pos1);
        
      }
    }

	</script>

</head>
<body style="background-color: skyblue;">
  <header style="padding: 1px; text-align: center;font-family: monospace; font-size: 32px; background-color: rgb(0,255,0); ">Token Passing Protocol</header>
 
      
        <div style="width: 1000px">
        <p style="color: red;font-family: sans-serif;font-size: 20px;">HOW TO USE Simulator?</p>
        <p style="font-family: sans-serif;font-size: 20px;">SELECT TOPOLOGY -- ENTER DATA SIZE -- PRESS START</p>
        </div>

   <div class="row"> 
  <div class="column" >
    
     <p style="font-size: 20px">Physical Ring:<input name="topology" type="radio" value="Physical Ring" id="s1" style="height: 20px; width: 20px"></p>
  
  </div>
  <div class="column">
   
	<p style="font-size: 20px">Dual Ring:<input name="topology" type="radio" value="Dual Ring" id="s2" style="height: 20px; width: 20px"></p>
	
  </div>
  <div class="column">
    
	<p style="font-size: 20px">Bus Ring:<input name="topology" type="radio" value="Bus Ring" id="s3" style="height: 20px; width: 20px"></p>

  </div>
  <div class="column">
   
	<p style="font-size: 20px">Star Ring:<input name="topology" type="radio" value="Star Ring" id="s4" style="height: 20px; width: 20px"></p>
					
  </div>
</div>
 <table>
 	<tr>
 		<th>
		<canvas id="verticle" width="1000" height="550"> 
			<img src="secondary.png" alt="device" id="d1">
			<img src="hub.jfif" alt="hub" id="hub">
    	</canvas>
    	</th>

 		<th style="text-align: center;">
 			<form>
 				<p style="font-size: 16px;">Enter Data Size. (enter 0 if NO data to send; line speed 40 MB/s)</p>
 				<p>1: <input type="text" name="dataL1" value="0" id="dataL1" style="text-align: center; height: 30px; width: 100px; font-size: 16px">MB</p>
 				<p>2: <input type="text" name="dataL2" value="0" id="dataL2" style="text-align: center; height: 30px; width: 100px; font-size: 16px">MB</p>
 				<p>3: <input type="text" name="dataL3" value="0" id="dataL3" style="text-align: center; height: 30px; width: 100px; font-size: 16px">MB</p>
 				<p>4: <input type="text" name="dataL4" value="0" id="dataL4" style="text-align: center; height: 30px; width: 100px; font-size: 16px">MB</p>
 				<input type="button" name="start" value="Start" onclick="startProcess()" style="text-align: center;padding: 15px 32px;font-size: 16px;">
 			</form>
    	</th>
    </tr> 
</table>
</body>
</html>